<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Color changer app</title>
  </head>

  <body>

    <center>

    <!-- <table>
        <tr><td id="colorChanger" bgcolor="blue" height=300px width=300px></td></tr>
    </table> -->
    <table>
        <tr>
            <th>Pressure</th>
            <th>Temperature</th>
            <th>Humidity</th>
        </tr>
        <tr>
            <td id="colorChangerPressure" bgcolor="green" height=100px width=100px></td>
            <td id="colorChangerTemperature" bgcolor="green" height=100px width=100px></td>
            <td id="colorChangerHumidity" bgcolor="green" height=100px width=100px></td>
        </tr>
    </table>

    </center>


    <script type=text/javascript src="{{
        url_for('static', filename='jquery.js') }}">
    </script>


    <script>
        $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
        (function(){
            $.getJSON(
                $SCRIPT_ROOT+"/_ajaxAutoRefresh", 
                function(data) {
                document.getElementById("colorChangerPressure").style.backgroundColor=data.colorPressure;
                document.getElementById("colorChangerTemperature").style.backgroundColor=data.colorTemperature;
                document.getElementById("colorChangerHumidity").style.backgroundColor=data.colorHumidity;
                }
            );
            setTimeout(arguments.callee, 1000);
        })();
    </script>


    </body>
</html>

